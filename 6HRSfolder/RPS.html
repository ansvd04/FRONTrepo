<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <p>Rock Paper Scissors</p>
    <button 
    onclick="
        playgame('rock');
        "> Rock</button>

    <button 
    onclick="
        playgame('paper');
        ">Paper</button>

    <button
    onclick="
        playgame('scissors');
        
        ">Scissors</button>
    <button
        onclick="
            score.wins=0;
            score.loses=0;
            score.ties=0;
            "
    >Reset Score</button>
        <script>
            // const score = {
            //     wins: 0,
            //     loses: 0,
            //     ties:0
            // }
            const score = JSON.parse(localStorage.getItem('score'));
            // let comppick = '';
            function getcomputerPick(){
                const system = Math.random();
                if(system >=0 && system <1/3){
                    comppick = 'rock';
                }
                else if(system >=1/3 && system <2/3){
                    comppick = 'paper';
                }
                else{
                    comppick = 'scissors';
                }
                return comppick;
            }
            function playgame(playerMove){
                comppick = getcomputerPick();
                if(playerMove === 'rock'){
                    if(comppick === 'rock'){
                    result = 'TIE';
                    }
                    else if(comppick === 'paper'){
                    result = 'LOSE';
                    }
                    else{
                    result = 'WIN'
                    }
                    
                }
                else if(playerMove === 'paper'){
                    if(comppick === 'rock'){
                    result = 'WIN';
                    }
                    else if(comppick === 'paper'){
                    result = 'TIE';
                    }
                    else{
                    result = 'LOSE'
                    }
                }

                else if(playerMove = 'scissors'){
                    if(comppick === 'rock'){
                    result = 'LOSE';
                    }
                    else if(comppick === 'paper'){
                    result = 'WIN';
                    }
                    else{
                    result = 'TIE'
                    }
                }
                if(result ==='TIE')
                    score.ties+=1;
                else if(result === 'WIN')
                    score.wins+=1;
                else
                    score.loses+=1;

                if(result === 'TIE')
                    alert(`you have choosen ROCK, system has choosen ${comppick}, ITS A ${result}
WINS: ${score.wins}  LOSES: ${score.loses} TIES: ${score.ties}`);
                else
                    alert(`you have choosen ROCK, system has choosen ${comppick}, YOU ${result}
WINS: ${score.wins}  LOSES: ${score.loses} TIES: ${score.ties}`);
                localStorage.setItem('score', JSON.stringify(score));
            }
            
        </script>
</body>
</html>